
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Mobile and Responsive Navigation without jPanelMenu - Micah Roberson</title>
  <meta name="author" content="Micah Roberson">

  
  <meta name="description" content="How to build a fast and functional slide-out, panel-style navigation menu using minimal javascript and hardware accelerated CSS for great mobile &hellip;">
  <meta name="keywords" content="project management, doozie, doozie.io, product development">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta itemprop="image" content="http://micahroberson.com/images/micah-headshot-color-square.png">

  
  <link rel="canonical" href="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu">
  <link href="/favicon.ico" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Micah Roberson" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-34306816-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <meta property="og:url" content="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/">
<meta property="og:type" content="website" />

<meta property="og:title" content="Mobile and Responsive Navigation without jPanelMenu">
<meta property="og:description" content="How to build a fast and functional slide-out, panel-style navigation menu using minimal javascript and hardware accelerated CSS for great mobile performance.">
 

</head>

<body id="skrollr-body"   class="no-sidebar"  >
  
  <span itemscope itemtype="http://schema.org/Article">
  
  <header role="banner"><div class='navbar-wrapper shadow'>
  <a href="/">
    <div class="logo"></div>
    <div class="profile"></div>
    <span class="header-name" itemprop="author" itemscope itemtype="http://schema.org/Person">
      <span itemprop="name">Micah Roberson</span>
    </span>
    <span class="header-desc">Programmer & Entrepreneur in San Francisco</span>
  </a>
  <nav>
    <ul>
      <li class='hide-tablet'><a href='https://doozie.io?utm_source=micahroberson.com&utm_medium=navbar' target='_blank'><img src="/images/doozie_logo.png" style="max-width: 90px; margin-right: 40px; vertical-align: middle;"></a></li>
      <li class='hide-tablet'><a href='https://raddevelopment.io?utm_source=micahroberson.com&utm_medium=navbar' target='_blank'><img src="/images/RAD-logo-white-background.png" style="max-width: 70px;margin-right: 80px;vertical-align: middle;"></a></li>
      <li><a class='social-media-link' href='https://twitter.com/micahroberson' target='_blank'><i class='icon-twitter'></i></a></li>
      <li><a class='social-media-link' href='https://www.github.com/micahroberson' target='_blank'><i class='icon-github'></i></a></li>
      <li><a class='social-media-link' href='/atom.xml' target='_blank'><i class='icon-feed' style='margin-left:3px;'></i></a></li>
    </ul>
  </nav>
  <span style='display:none;'>By <a href='https://plus.google.com/106721416583632264667' rel='author'>Micah Roberson</a></span>
  <!-- <div class='social-links'>
    <a class='social-media-link' href='https://twitter.com/micahroberson' target='_blank'><i class='icon-twitter'></i></a>
    <a class='social-media-link' href='https://www.github.com/micahroberson' target='_blank'><i class='icon-github'></i></a>
    <a class='social-media-link' href='/atom.xml' target='_blank'><i class='icon-feed'></i></a>
    <a class='social-media-link' href='mailto:micah.roberson@gmail.com' target='_blank'><i class='icon-mail'></i></a>
  </div> -->
</div>
</header>
  <nav role="navigation">
  

</nav>
  <div id="main">
    
    <div id="content">
      <div>
<article class="hentry" role="article"  itemscope itemtype="http://schema.org/BlogPosting">
  
  <header>
    
      <h2 class="entry-title">
        Mobile and Responsive Navigation Without jPanelMenu
        <!-- 
          <span style="float:right;margin-top:2px;">
            <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/" data-via="micahroberson" data-counturl="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/" >Tweet</a>
          </span>
         -->
      </h2>
      
        <p class="meta">
          








  


<time datetime="2013-11-18T08:36:00-08:00" pubdate data-updated="true">Nov 18</time>
          
        </p>
      
    
  </header>


<div class="entry-content" itemprop="articleBody"><p>In my previous post, <a href="http://localhost:4000/foundation-nav-w-jpanelmenu">Mobile Navigation using Foundation and jPanelMenu</a>, I explained how to transform a standard <a href="http://foundation.zurb.com">Foundation</a> navbar into a more mobile friendly, Facebook-style flyout panel. We initially built this for <a href="https://greeksquare.com">GreekSquare</a> and the original implementation was fast and smooth. However, as the complexity of our app grew and as we began to test the mobile version on more devices, we quickly found out the performance was less than stellar. Animations were jagged and laggy, and the DOM was polluted with duplicate elements created by the <a href="http://jpanelmenu.com/">jPanelMenu</a> plugin. Although the jPanelMenu animations are written in a hardware-accelerating fashion, the menu was still too slow. I decided to remove the plugin entirely and build the simple mechanism manually. </p>

<!--more-->

<p>This is the entirety of the SCSS responsible for the new menu:</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
<span class="line-number">25</span>
<span class="line-number">26</span>
<span class="line-number">27</span>
<span class="line-number">28</span>
<span class="line-number">29</span>
<span class="line-number">30</span>
<span class="line-number">31</span>
<span class="line-number">32</span>
<span class="line-number">33</span>
<span class="line-number">34</span>
<span class="line-number">35</span>
<span class="line-number">36</span>
<span class="line-number">37</span>
</pre></td><td class="code"><pre><code class="sass"><span class="line">  <span class="nc">.slidemenu-body</span> <span class="err">{</span>
</span><span class="line">    <span class="na">overflow-x</span><span class="o">:</span> <span class="no">hidden</span><span class="err">;</span>
</span><span class="line">    <span class="na">position</span><span class="o">:</span> <span class="no">relative</span><span class="err">;</span>
</span><span class="line">  <span class="err">}</span>
</span><span class="line">  <span class="nc">.slidemenu</span> <span class="err">{</span>
</span><span class="line">    <span class="k">@include</span><span class="nd"> transition</span><span class="p">(</span><span class="n">all</span> <span class="mi">0</span><span class="mf">.3</span><span class="kt">s</span> <span class="n">ease</span><span class="p">)</span><span class="err">;</span>
</span><span class="line">  <span class="err">}</span>
</span><span class="line">  <span class="nc">.slidemenu-left</span> <span class="err">{</span>
</span><span class="line">    <span class="na">left</span><span class="o">:</span> <span class="mi">-200</span><span class="kt">px</span><span class="err">;</span>
</span><span class="line">
</span><span class="line">    <span class="na">-webkit-backface-visibility</span><span class="o">:</span> <span class="no">hidden</span><span class="err">;</span>
</span><span class="line">    <span class="na">-moz-backface-visibility</span><span class="o">:</span> <span class="no">hidden</span><span class="err">;</span>
</span><span class="line">    <span class="na">-ms-backface-visibility</span><span class="o">:</span> <span class="no">hidden</span><span class="err">;</span>
</span><span class="line">    <span class="na">backface-visibility</span><span class="o">:</span> <span class="no">hidden</span><span class="err">;</span>
</span><span class="line">
</span><span class="line">    <span class="na">-webkit-perspective</span><span class="o">:</span> <span class="mi">1000</span><span class="err">;</span>
</span><span class="line">    <span class="na">-moz-perspective</span><span class="o">:</span> <span class="mi">1000</span><span class="err">;</span>
</span><span class="line">    <span class="na">-ms-perspective</span><span class="o">:</span> <span class="mi">1000</span><span class="err">;</span>
</span><span class="line">    <span class="na">perspective</span><span class="o">:</span> <span class="mi">1000</span><span class="err">;</span>
</span><span class="line">
</span><span class="line">    <span class="k">@include</span><span class="nd"> transform</span><span class="p">(</span><span class="nf">translate3d</span><span class="p">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="p">))</span><span class="err">;</span>
</span><span class="line">
</span><span class="line">    <span class="k">&amp;</span><span class="nc">.slidemenu-open</span> <span class="err">{</span>
</span><span class="line">      <span class="k">@include</span><span class="nd"> transform</span><span class="p">(</span><span class="nf">translateX</span><span class="p">(</span><span class="mi">200</span><span class="kt">px</span><span class="p">))</span><span class="err">;</span>
</span><span class="line">    <span class="err">}</span>
</span><span class="line">  <span class="err">}</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// For GreekSquare, we show the whole navbar when the user isn&#39;t on a phone/tablet and</span>
</span><span class="line">  <span class="c1">// hide the button to collapse/open the navbar</span>
</span><span class="line">  <span class="k">@media</span> <span class="nt">only</span> <span class="nt">screen</span> <span class="nt">and</span> <span class="o">(</span><span class="nt">min-width</span><span class="nd">:</span> <span class="nt">769px</span><span class="o">)</span> <span class="err">{</span>
</span><span class="line">    <span class="nc">.slidemenu-left</span> <span class="err">{</span>
</span><span class="line">      <span class="na">left</span><span class="o">:</span> <span class="mi">0</span><span class="kt">px</span><span class="err">;</span>
</span><span class="line">    <span class="err">}</span>
</span><span class="line">    <span class="nc">.subnav-btn</span> <span class="err">{</span>
</span><span class="line">      <span class="na">display</span><span class="o">:</span> <span class="no">none</span><span class="err">;</span>
</span><span class="line">    <span class="err">}</span>
</span><span class="line">  <span class="err">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Now all we have to do is toggle the slidemenu-open class on both the body and the sidenav elements.</p>

<div class="bogus-wrapper"><notextile><figure class="code"> <div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line">  <span class="kd">var</span> <span class="nx">$elems</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;body, #subnav&#39;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// Open the menu when the icon is clicked</span>
</span><span class="line">  <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;.subnav-btn&#39;</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">$elems</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s1">&#39;slidemenu-open&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// Close the menu when a link within is clicked, and still follow the</span>
</span><span class="line">  <span class="c1">// link (don&#39;t stop propagation)</span>
</span><span class="line">  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="s2">&quot;#subnav.slidemenu-open a&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">$elems</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;slidemenu-open&#39;</span><span class="p">);</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line">
</span><span class="line">  <span class="c1">// Close the menu and stop propagation on the click event to prevent the action on</span>
</span><span class="line">  <span class="c1">// whatever element the user actually clicked</span>
</span><span class="line">  <span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;click&quot;</span><span class="p">,</span> <span class="s2">&quot;body.slidemenu-open #main&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">e</span><span class="p">.</span><span class="nx">stopPropagation</span><span class="p">();</span>
</span><span class="line">    <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
</span><span class="line">
</span><span class="line">    <span class="nx">$elems</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">&#39;slidemenu-open&#39;</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
</span><span class="line">  <span class="p">});</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Here’s the finished product - mobile version closed &amp; open and the desktop version:</p>

<p><img class="width-50 left" src="/images/gs_nav_closed.png" />
<img class="width-50 left" src="/images/gs_nav_open.png" /></p>

<p><img class="width-100 center" src="/images/gs_desktop.png" /></p>
</div>

  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Micah Roberson</span></span>

      








  


<time datetime="2013-11-18T08:36:00-08:00" pubdate data-updated="true">Nov 18</time>
      


    </p>
    <!-- 
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/" data-via="micahroberson" data-counturl="http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

     -->
    <p class="meta">
      
        <a class="basic-alignment left" href="/upload-files-directly-to-s3-w-backbone-on-heroku/" title="Previous Post: Upload files directly to S3 w/ Backbone on Heroku">&laquo; Upload files directly to S3 w/ Backbone on Heroku</a>
      
      
        <a class="basic-alignment right" href="/a-brief-introduction-to-bitcoin/" title="next Post: A Brief Introduction to Bitcoin">A Brief Introduction to Bitcoin &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <div id="disqus_thread" aria-live="polite">

<script type="text/javascript">
      var disqus_shortname = 'micahroberson';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/';
        var disqus_url = 'http://micahroberson.com/mobile-and-responsive-navigation-without-jpanelmenu/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>

</div>
  </section>

</div>


    </div>
  </div>
  
  </span>
  
</body>
</html>
